<!DOCTYPE html>
<html lang="ru">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../../css/gameStyle/main.css">
  <link rel="stylesheet" href="../../css/gameStyle/game.css">
  <link rel="stylesheet" href="../../css/gameStyle/game_3.css">
  <link rel="stylesheet" href="../../css/gameStyle/modals.css">
  <link rel="stylesheet" href="../../css/gameStyle/instructionDialog.css">
</head>
<body>
  <header class="game-header">
    <nav class="game-header-menu">
      <a id="game-header__logo">MATRYOSHKA QUEST</a>
      <ul class="game-header__user-menu">
        <li class="user-menu__item user-menu__item-instruction" style="cursor: pointer;">
          <a id="user-menu__link-user-menu__item-instruction">
            <img src="../../images/icon-instruction.png" class="exit" alt="exit">
          </a>
        </li>
        <li class="user-menu__item user-menu__item-rate">
          <a id="user-menu__link-rate" href="rate.html">
            <img src="../../images/icon-rate.png" class="rate" alt="rate">
          </a>
        </li>
        <li class="user-menu__item user-menu__item-exit" style="cursor: pointer;">
          <a id="user-menu__link-exit">
            <img src="../../images/icon-exit.png" class="exit" alt="exit">
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Окно инструкции -->
  <dialog id="instructionDialog">
    <div class="dialog-content">
      <h2>Добро пожаловать в Matryoshka Quest!</h2>
      <p>Соберите матрёшку по возрастанию размера из фигур одного цвета.</p>
      <p>Клавиши управления:</p>
      <ul class="instruction-dialog__list">
        <li>Нажмите <strong>Space</strong> для начала игры.</li>
        <li>Нажмите <strong>Enter</strong>, чтобы появилась новая матрёшка.</li>
        <li>Нажмите <strong>правую кнопку мыши</strong> для увеличения фигуры, а <strong>левую</strong> для уменьшения.</li>
        <li>Перетаскивайте матрёшку в розовую область, чтобы собрать её целиком.</li>
        <li>Нажмите <strong>Esc</strong>, чтобы поставить на паузу или выйти из игры.</li>
        <li>Нажмите <strong>Завершить сбор</strong>, когда закончите собирать матрёшку.</li>
      </ul>
    </div>
    <button class="close-button" id="closeDialogButton">Понятно!</button>
  </dialog>

  <div id="game_field">
    <h2 class="level_number">Уровень 3</h2>
    <p id="gameInfo">Нажмите пробел, чтобы начать игру!</p>
    <div id="timer">00:00</div>
    <div id="current_score">Баллы: 0</div>
    <div id="matryoshkaField"></div>
    <button id="finishBtn" style="display: none;">Завершить сбор</button>
    <div id="matryoshkaContainer"></div>

    <!--         Окно для выхода из игры -->
    <div id="exitModal" style="display: none;">
      <div class="modal-background"></div>
      <div class="modal-content">
        <p>Вы уверены, что хотите завершить игру?</p>
        <button id="confirmExit">Да</button>
        <button id="cancelExit">Нет</button>
      </div>
    </div>

    <!-- Окно для рестарта уровня -->
    <div id="restartModal" style="display: none;">
      <div class="modal-background"></div>
      <div class="modal-content">
        <p>Желаете начать этот уровень заново?</p>
        <button id="confirmRestart">Да</button>
        <button id="cancelRestart">Нет</button>
      </div>
    </div>
  </div>

  <script src="../../js/levels/game_3.js"></script>
  <script src="../../js/gameLogic/logout.js"></script>
  <script src="../../js/gameLogic/exit.js"></script>
  <script src="../../js/gameLogic/showInstruction.js"></script>
</body>
</html>